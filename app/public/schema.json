{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://iomega.github.io/paired-data-form/schema.json",
  "title": "iOMEGA Paired Data Platform",
  "description": "This Paired Data Platform is a community-based initiative standardizing links between genomic and metabolomics data in a computer-readable manner to further the field of natural products discovery. The form below aims to capture sufficient metadata to create informative links between genome sequences on the one hand and metabolomics profiles on the other hand. Note that wherever we could, we have used existing ontology to define terms. When filling out the form below, at any time the inputted data can be saved and downloaded in json format to be reloaded when continuing with the entries. The form below first asks for some personal information to provide proper credits and allow the community to ask the right person information on the linked data. Then, overall information on the metabolomics experiment is captured, before all genomes or metagenomes can be detailed, including creating a unique genome label for easy recall during linking. Then the metabolomics metadata can be saved using labels for sample growth conditions, extraction, and instrument methods. Finally, the data links can be made with references to the actual mass spectral files in MaSSIVE. Optionally, you can save links between known biosynthesis gene clusters and mass spectra or molecular families in the second part of the form. After saving your entries, a table below the form will appear filled with the links you created with experimental labels; you can also expand the table to see all information inputted. Then you can download the filled json schema in which all links are recorded. To accommodate inputting large datasets, you can download the TSV linking table, manually add new links, and re-upload the TSV file. It is important to note that all experimental labels need to be defined in the form and at least one link made before you download and edit the table. We hope you will use our platform to capture your paired data links as this will allow you and the community to efficiently use your data in follow-up studies that rely on the combined use of genome and metabolome data.",
  "type": "object",
  "required": [
    "version",
    "personal",
    "metabolomics",
    "genomes",
    "experimental",
    "genome_metabolome_links"
  ],
  "properties": {
    "version": {
      "type": "string",
      "readonly": true,
      "default": "1"
    },
    "personal": {
      "type": "object",
      "title": "1. Submitter Information",
      "properties": {
        "submitter_name": {
          "type": "string",
          "title": "Name of contact for correspondence",
          "description": "This person will be the point of contact for any communication related to this entry."
        },
        "submitter_orcid": {
          "type": "string",
          "title": "ORCID identifier",
          "description": "ORCID identifier of person who is point of contact. Please use full ORCID iD, e.g. https://orcid.org/0000-0002-1825-0097. Warning, there cannot be spaces in the URI.",
          "format": "uri",
          "pattern": "^https://orcid.org/[0-9]{4}-?[0-9]{4}-?[0-9]{4}-?[0-9]{3}[0-9X]$"
        },
        "submitter_email": {
          "type": "string",
          "title": "Submitter contact e-mail address",
          "format": "email"
        },
        "PI_name": {
          "type": "string",
          "title": "Name of the principal investigator of the submitter",
          "description": "This person is contacted in case the submitter has moved institution"
        },
        "PI_institution": {
          "type": "string",
          "title": "Academic institution or company name",
          "description": "Please use the full, official name of your institute in English. E.g., 'Harvard University'."
        },
        "PI_email": {
          "type": "string",
          "title": "PI contact e-mail address",
          "format": "email"
        }
      },
      "additionalProperties": false
    },
    "metabolomics": {
      "type": "object",
      "title": "2. Overall metabolomics project details",
      "description": "Please provide basic information on the publicly available metabolomics project from which paired data is available. Currently, we allow for links to mass spectrometry data deposited in GNPS-MaSSIVE or MetaboLights.",
      "properties": {
        "project": {
          "oneOf": [{
            "type": "object",
            "required": ["GNPSMassIVE_ID", "MaSSIVE_URL"],
            "title": "GNPS-MassIVE",
            "properties": {
              "GNPSMassIVE_ID": {
                "type": "string",
                "title": "GNPS-MassIVE identifier",
                "description": "Please provide the GNPS-MassIVE identifier of your metabolomics data set, e.g., MSV000078839.",
                "pattern": "^MSV[0-9]{9}$"
              },
              "MaSSIVE_URL": {
                "type": "string",
                "title": "Link to MassIVE upload",
                "description": "Please provide the link to the MassIVE upload, e.g., https://gnps.ucsd.edu/ProteoSAFe/result.jsp?task=a507232a787243a5afd69a6c6fa1e508&view=advanced_view. Warning, there cannot be spaces in the URI.",
                "format": "uri"
              },
              "molecular_network": {
                "type": "string",
                "pattern": "^[0-9a-z]{32}$",
                "title": "Molecular Network Task ID",
                "description": "If you have run a Molecular Network on GNPS, please provide the task ID of the Molecular Network job. It can be found in the URL of the Molecular Networking job, e.g., in https://gnps.ucsd.edu/ProteoSAFe/status.jsp?task=c36f90ba29fe44c18e96db802de0c6b9 the task ID is c36f90ba29fe44c18e96db802de0c6b9."
              }
            }
          }, {
            "type": "object",
            "title": "MetaboLights",
            "required": ["metabolights_study_id"],
            "properties": {
              "metabolights_study_id": {
                "type": "string",
                "title": "MetaboLights study identifier",
                "pattern": "^MTBLS[0-9]{1,}$",
                "description": "Please provide the MetaboLights study identifier of your metabolomics data set, e.g. MTBLS307."
              }
            }
          }]
        },
        "publications": {
          "type": "string",
          "pattern": "[0-9]{1,}",
          "title": "Key publications",
          "description": "Publications describing the metabolomics experiment and samples. Please input PubMed IDs (PMIDs, not PMCIDs!), separated by commas: e.g., '12000953,8843436'. Only enter numeric characters and commas. If a PMID is not available, a DOI can be entered instead (without the designation 'DOI' itself, e.g. '10.1039/c4sc01927j')"
        }
      },
      "required": ["project"],
      "additionalProperties": false
    },
    "genomes": {
      "type": "array",
      "title": "3. All metagenome/genomes",
      "description": "Please add all genomes and/or metagenomes for which paired data is available as separate entries.",
      "items": {
        "type": "object",
        "required": ["genome_ID", "genome_label"],
        "properties": {
          "genome_ID": {
            "type": "object",
            "title": "Genome or Metagenome",
            "description": "Please select genome (microbial isolate grown in pure culture), metagenome (microbial mixture or environmental sample), or metagenome-assembled genome (genome assembled from a metagenome with no isolate grown in culture). All genome sequences must first be submitted to a public database with a unique identifier. In the case of a whole genome sequence, please use master records. At least one identifier must be entered.",
            "required": ["genome_type"],
            "properties": {
              "genome_type": {
                "type": "string",
                "title": "Genome type",
                "enum": ["genome", "metagenome", "metagenome-assembled genome"],
                "default": "genome"
              }
            },
            "dependencies": {
              "genome_type": {
                "oneOf": [
                  {
                    "properties": {
                      "genome_type": {
                        "enum": ["genome", "metagenome-assembled genome"]
                      },
                      "GenBank_accession": {
                        "type": "string",
                        "title": "GenBank accession number",
                        "description": "For example: AL645882"
                      },
                      "RefSeq_accession": {
                        "type": "string",
                        "title": "RefSeq accession number",
                        "description": "For example: NC_003888.3"
                      },
					  "JGI_Genome_ID": {
                        "type": "string",
                        "title": "JGI Genome ID number",
                        "description": "For example: 641228474"
                      }
                    }
                  },
                  {
                    "properties": {
                      "genome_type": {
                        "enum": ["metagenome"]
                      },
                      "ENA_NCBI_accession": {
                        "type": "string",
                        "title": "ENA/NCBI accession number",
                        "description": "For example: GCA_900283375"
                      },
                      "MGnify_accession": {
                        "type": "string",
                        "title": "MGnify accession number",
                        "description": "For example: MGYA00067671"
                      },
					  "JGI_ID": {
                        "type": "string",
                        "title": "JGI Genome ID number",
                        "description": "For example: 3300024223"
                      }
                    }
                  }
                ]
              }
            }
          },
          "BioSample_accession": {
            "type": "string",
            "title": "BioSample accession number",
            "description": "If publicly available metadata is available at BioSamples, please provide the BioSample accession number, e.g. SAMEA3648350, here. We encourage depositing metadata following a standardized ontology to enable proper reuse of the data."
          },
          "publications": {
            "type": "string",
            "pattern": "[0-9]{1,}",
            "title": "Key publications",
            "description": "Publications describing the sequencing of the genome or metagenome. Please input PubMed IDs (PMIDs, not PMCIDs!), separated by commas: e.g., '12000953,8843436'. Only enter numeric characters and commas. If a PMID is not available, a DOI can be entered instead (without the designation 'DOI' itself, e.g. '10.1039/c4sc01927j')"
          },
          "genome_label": {
            "type": "string",
            "title": "Genome Label",
            "description": "Please assign a unique Genome Label for this genome or metagenome to help you recall it during the linking step."
          }
        }
      }
    },
    "experimental": {
      "type": "object",
      "title": "4. Metabolomics experimental details",
      "description": "Please provide basic information about the Sample Preparation, Extraction Methods, and Instrumentation Methods used. If different Sample Preparation, Extraction Methods, and/or Instrumentation Methods were used leading to different metabolomics data, please use separate entries for each experimental change and create a label that will help you recall the experimental parameters during the linking step.",
      "properties": {
        "sample_preparation": {
          "type": "array",
          "title": "Sample Growth Conditions",
          "description": "For strains grown in culture, please fill in the first five sections. For metagenomic samples, only metagenomic source is necessary.",
          "items": {
            "type": "object",
            "properties": {
              "medium_details": {
                "type": "object",
                "title": "Medium details",
                "properties": {
                  "medium_type": {
                    "type": "string",
                    "title": "Medium type",
                    "description": "Please select liquid or solid medium.",
                    "enum": ["liquid", "solid"],
                    "default": "liquid"
                  },
                  "medium": {
                    "type": "string",
                    "title": "Growth medium",
                    "description": "Please select a growth medium used in the experiment. If it is not present, please select Other and provide a name and a link to a definition/ontology for your medium. Custom media can be defined in the Other Growth Conditions box.",
                    "anyOf": [
                      {
                        "type": "string",
                        "title": "LB (Luria-Bertani) medium",
                        "enum": [
                          "http://www.dsmz.de/microorganisms/medium/pdf/DSMZ_Medium381.pdf"
                        ]
                      },
                      {
                        "type": "string",
                        "title": "Tryptic-Soy Broth (TSB)",
                        "enum": [
                          "http://www.dsmz.de/microorganisms/medium/pdf/DSMZ_Medium545.pdf"
                        ]
                      },
                      {
                        "type": "string",
                        "title": "Nutrient Agar",
                        "enum": [
                          "http://www.dsmz.de/microorganisms/medium/pdf/DSMZ_Medium1.pdf"
                        ]
                      },
                      {
                        "type": "string",
                        "title": "Oat Flake agar",
                        "enum": [
                          "http://www.dsmz.de/microorganisms/medium/pdf/DSMZ_Medium189.pdf"
                        ]
                      },
                      {
                        "type": "string",
                        "title": "Marine Broth (Difco 2216)",
                        "enum": [
                          "http://www.dsmz.de/microorganisms/medium/pdf/DSMZ_Medium514.pdf"
                        ]
                      },
                      {
                        "type": "string",
                        "title": "Mannitol Yeast extract Peptone (MYE)",
                        "enum": [
                          "http://www.dsmz.de/microorganisms/medium/pdf/DSMZ_Medium1087.pdf"
                        ]
                      },
                      {
                        "type": "string",
                        "title": "ISP2 medium",
                        "enum": [
                          "http://www.dsmz.de/microorganisms/medium/pdf/DSMZ_Medium987.pdf"
                        ]
                      },
                      {
                        "type": "string",
                        "title": "ISP4 medium",
                        "enum": [
                          "http://www.dsmz.de/microorganisms/medium/pdf/DSMZ_Medium547.pdf"
                        ]
                      },
                      {
                        "type": "string",
                        "title": "A1 medium",
                        "enum": [
                          "http://www.dsmz.de/microorganisms/medium/pdf/DSMZ_Medium1054.pdf"
                        ]
                      },
                      {
                        "type": "string",
                        "title": "Mannitol soy flour medium (MS)",
                        "enum": [
                          "https://www.elabprotocols.com/protocols/#!protocol=469"
                        ]
                      },
                      {
                        "type": "string",
                        "title": "R5 medium",
                        "enum": [
                          "https://www.elabprotocols.com/protocols/#!protocol=486"
                        ]
                      },
                      {
                        "type": "string",
                        "title": "Yeast extract-malt extract (YEME) medium",
                        "enum": [
                          "https://www.elabprotocols.com/protocols/#!protocol=464"
                        ]
                      },
                      {
                        "type": "string",
                        "title": "Minimal medium (MM)",
                        "enum": [
                          "https://www.elabprotocols.com/protocols/#!protocol=484"
                        ]
                      },
                      {
                        "type": "string",
                        "title": "Supplemented minimal medium (SMM)",
                        "enum": [
                          "https://openwetware.org/wiki/M9_medium/minimal"
                        ]
                      },
                      {
                        "type": "string",
                        "title": "Maltose Yeast Malt media (MYM)",
                        "enum": [
                          "https://s3-eu-west-1.amazonaws.com/pfigshare-u-files/1805982/MYMmedium.pdf"
                        ]
                      },
                      {
                        "type": "string",
                        "title": "R2YE medium",
                        "enum": [
                          "https://www.ncbi.nlm.nih.gov/pmc/articles/PMC2950629/pdf/nihms234294.pdf"
                        ]
                      },
					  {
                        "type": "string",
                        "title": "Bottromycin Production Medium (BPM)",
                        "enum": [
                          "https://www.nature.com/articles/s41467-017-01975-6"
                        ]
                      },
					  {
                        "type": "string",
                        "title": "Potato Dextrose (PD) medium",
                        "enum": [
                          "https://www.sigmaaldrich.com/catalog/product/sial/70139?lang=en&region=NL"
                        ]
                      },
					  {
                        "type": "string",
                        "title": "Yeast Powder-Soluble Starch (YPSS) medium",
                        "enum": [
                          "http://www.mycobank.org/BioloMICS.aspx?TableKey=14682616000000058&Rec=254&Fields=All"
                        ]
                      },
					   {
                        "type": "string",
                        "title": "Czapek-Dox medium",
                        "enum": [
                          "https://en.wikipedia.org/wiki/Czapek_medium"
                        ]
                      },
					   {
                        "type": "string",
                        "title": "Malt Extract medium",
                        "enum": [
                          "http://cshprotocols.cshlp.org/content/2016/3/pdb.rec091454.full"
                        ]
                      },
                      {
                        "type": "string",
                        "title": "Other",
                        "enum": ["other"]
                      }
                    ]
                  }
                },
                "dependencies": {
                  "medium": {
                    "oneOf": [
                      {
                        "properties": {
                          "medium": {
                            "enum": [
                              "http://www.dsmz.de/microorganisms/medium/pdf/DSMZ_Medium381.pdf",
                              "http://www.dsmz.de/microorganisms/medium/pdf/DSMZ_Medium545.pdf",
                              "http://www.dsmz.de/microorganisms/medium/pdf/DSMZ_Medium1.pdf",
                              "http://www.dsmz.de/microorganisms/medium/pdf/DSMZ_Medium189.pdf",
                              "http://www.dsmz.de/microorganisms/medium/pdf/DSMZ_Medium514.pdf",
                              "http://www.dsmz.de/microorganisms/medium/pdf/DSMZ_Medium1087.pdf",
                              "http://www.dsmz.de/microorganisms/medium/pdf/DSMZ_Medium987.pdf",
                              "http://www.dsmz.de/microorganisms/medium/pdf/DSMZ_Medium547.pdf",
                              "http://www.dsmz.de/microorganisms/medium/pdf/DSMZ_Medium1054.pdf",
                              "https://www.elabprotocols.com/protocols/#!protocol=469",
                              "https://www.elabprotocols.com/protocols/#!protocol=486",
                              "https://www.elabprotocols.com/protocols/#!protocol=464",
                              "https://www.elabprotocols.com/protocols/#!protocol=484",
                              "https://openwetware.org/wiki/M9_medium/minimal",
                              "https://s3-eu-west-1.amazonaws.com/pfigshare-u-files/1805982/MYMmedium.pdf",
                              "https://www.ncbi.nlm.nih.gov/pmc/articles/PMC2950629/pdf/nihms234294.pdf",
							  "https://www.nature.com/articles/s41467-017-01975-6",
							  "https://www.sigmaaldrich.com/catalog/product/sial/70139?lang=en&region=NL",
							  "http://www.mycobank.org/BioloMICS.aspx?TableKey=14682616000000058&Rec=254&Fields=All",
							  "https://en.wikipedia.org/wiki/Czapek_medium",
							  "http://cshprotocols.cshlp.org/content/2016/3/pdb.rec091454.full"
                            ]
                          }
                        }
                      },
                      {
                        "properties": {
                          "medium": {
                            "enum": ["other"]
                          },
                          "Other_medium": {
                            "type": "string",
                            "title": "Name of other medium"
                          },
						  "Other_medium_link": {
                            "type": "string",
                            "title": "URL for definition of other medium"
                          }
                        }
                      }
                    ]
                  }
                }
              },
              "growth_temperature": {
                "type": "number",
                "title": "Growth temperature",
                "description": "Please enter the temperature of growth in degrees Celsius.",
                "pattern": "[0-9]{1,}"
              },
              "aeration": {
                "type": "string",
                "title": "Aeration",
                "description": "Please select aeration type.",
                "enum": [
                  "shaking in conical tube",
				  "shaking in Erlenmeyer flask",
                  "shaking in spring flask",
                  "shaking in baffled flask",
                  "fermenter",
                  "not shaking",
				  "Other"
                ]
              },
              "growing_time": {
                "type": "number",
                "title": "Growth time",
                "description": "Please enter the length of growth time in hours.",
                "pattern": "[0-9]{1,}"
              },
              "growth_phase_OD": {
                "type": "string",
                "title": "Growth phase or OD",
                "description": "Please enter the growth phase or OD if you know it."
              },
              "other_growth_conditions": {
                "type": "string",
                "title": "Other growth conditions",
                "description": "Please describe any other relevant or distinguishing growth conditions e.g. light 12h, dark 12h. You can also define custom media here, indicate if purity checks were made, and provide more specific details."
              },
              "metagenome_details": {
                "type": "object",
                "title": "Metagenome details",
                "properties": {
                  "environment": {
                    "type": "string",
                    "title": "Metagenome host or isolation source",
                    "description": "For metagenomic samples, please select the source host or isolation source. If it is not available, please select Other and type it in.",
                    "anyOf": [
                      {
                        "type": "string",
                        "title": "Human",
                        "enum": [
                          "https://bioportal.bioontology.org/ontologies/MEO/?p=classes&conceptid=http%3A%2F%2Fpurl.jp%2Fbio%2F11%2Fmeo%2FMEO_0000393"
                        ]
                      },
                      {
                        "type": "string",
                        "title": "Other mammal",
                        "enum": [
                          "https://bioportal.bioontology.org/ontologies/MEO/?p=classes&conceptid=http%3A%2F%2Fpurl.jp%2Fbio%2F11%2Fmeo%2FMEO_0000395"
                        ]
                      },
                      {
                        "type": "string",
                        "title": "Aquatic invertebrate",
                        "enum": [
                          "https://bioportal.bioontology.org/ontologies/MEO/?p=classes&conceptid=http%3A%2F%2Fpurl.jp%2Fbio%2F11%2Fmeo%2FMEO_0000871"
                        ]
                      },
                      {
                        "type": "string",
                        "title": "Insect",
                        "enum": [
                          "https://bioportal.bioontology.org/ontologies/MEO/?p=classes&conceptid=http%3A%2F%2Fpurl.jp%2Fbio%2F11%2Fmeo%2FMEO_0000058"
                        ]
                      },
                      {
                        "type": "string",
                        "title": "Other animal",
                        "enum": [
                          "https://bioportal.bioontology.org/ontologies/MEO/?p=classes&conceptid=http%3A%2F%2Fpurl.jp%2Fbio%2F11%2Fmeo%2FMEO_0000421"
                        ]
                      },
                      {
                        "type": "string",
                        "title": "Biofilm / Microbial mat",
                        "enum": [
                          "https://bioportal.bioontology.org/ontologies/MEO/?p=classes&conceptid=http%3A%2F%2Fpurl.jp%2Fbio%2F11%2Fmeo%2FMEO_0000116"
                        ]
                      },
                      {
                        "type": "string",
                        "title": "Plant",
                        "enum": [
                          "https://bioportal.bioontology.org/ontologies/MEO/?p=classes&conceptid=http%3A%2F%2Fpurl.jp%2Fbio%2F11%2Fmeo%2FMEO_0000057"
                        ]
                      },
                      {
                        "type": "string",
                        "title": "Soil",
                        "enum": [
                          "https://bioportal.bioontology.org/ontologies/MEO/?p=classes&conceptid=http%3A%2F%2Fpurl.jp%2Fbio%2F11%2Fmeo%2FMEO_0000007"
                        ]
                      },
                      {
                        "type": "string",
                        "title": "Sediment",
                        "enum": [
                          "https://bioportal.bioontology.org/ontologies/MEO/?p=classes&conceptid=http%3A%2F%2Fpurl.jp%2Fbio%2F11%2Fmeo%2FMEO_0000066"
                        ]
                      },
                      {
                        "type": "string",
                        "title": "Ocean",
                        "enum": [
                          "https://bioportal.bioontology.org/ontologies/MEO/?p=classes&conceptid=http%3A%2F%2Fpurl.jp%2Fbio%2F11%2Fmeo%2FMEO_0000022"
                        ]
                      },
                      {
                        "type": "string",
                        "title": "Air",
                        "enum": [
                          "https://bioportal.bioontology.org/ontologies/MEO/?p=classes&conceptid=http%3A%2F%2Fpurl.jp%2Fbio%2F11%2Fmeo%2FMEO_0000006"
                        ]
                      },
                      {
                        "type": "string",
                        "title": "Other",
                        "enum": ["other"]
                      }
                    ]
                  }
                },
                "dependencies": {
                  "environment": {
                    "oneOf": [
                      {
                        "properties": {
                          "environment": {
                            "enum": [
                              "https://bioportal.bioontology.org/ontologies/MEO/?p=classes&conceptid=http%3A%2F%2Fpurl.jp%2Fbio%2F11%2Fmeo%2FMEO_0000393",
                              "https://bioportal.bioontology.org/ontologies/MEO/?p=classes&conceptid=http%3A%2F%2Fpurl.jp%2Fbio%2F11%2Fmeo%2FMEO_0000395",
                              "https://bioportal.bioontology.org/ontologies/MEO/?p=classes&conceptid=http%3A%2F%2Fpurl.jp%2Fbio%2F11%2Fmeo%2FMEO_0000871",
                              "https://bioportal.bioontology.org/ontologies/MEO/?p=classes&conceptid=http%3A%2F%2Fpurl.jp%2Fbio%2F11%2Fmeo%2FMEO_0000058",
                              "https://bioportal.bioontology.org/ontologies/MEO/?p=classes&conceptid=http%3A%2F%2Fpurl.jp%2Fbio%2F11%2Fmeo%2FMEO_0000421",
                              "https://bioportal.bioontology.org/ontologies/MEO/?p=classes&conceptid=http%3A%2F%2Fpurl.jp%2Fbio%2F11%2Fmeo%2FMEO_0000116",
                              "https://bioportal.bioontology.org/ontologies/MEO/?p=classes&conceptid=http%3A%2F%2Fpurl.jp%2Fbio%2F11%2Fmeo%2FMEO_0000057",
                              "https://bioportal.bioontology.org/ontologies/MEO/?p=classes&conceptid=http%3A%2F%2Fpurl.jp%2Fbio%2F11%2Fmeo%2FMEO_0000007",
                              "https://bioportal.bioontology.org/ontologies/MEO/?p=classes&conceptid=http%3A%2F%2Fpurl.jp%2Fbio%2F11%2Fmeo%2FMEO_0000066",
                              "https://bioportal.bioontology.org/ontologies/MEO/?p=classes&conceptid=http%3A%2F%2Fpurl.jp%2Fbio%2F11%2Fmeo%2FMEO_0000022",
                              "https://bioportal.bioontology.org/ontologies/MEO/?p=classes&conceptid=http%3A%2F%2Fpurl.jp%2Fbio%2F11%2Fmeo%2FMEO_0000006"
                            ]
                          }
                        }
                      },
                      {
                        "properties": {
                          "environment": {
                            "enum": ["other"]
                          },
                          "Other_environment": {
                            "type": "string",
                            "title": "Name of other environment or host"
                          }
                        }
                      }
                    ]
                  }
                }
              },
              "metagenomic_sample_description": {
                "type": "string",
                "title": "Metagenomic sample description",
                "description": "Please describe your metagenomic sample preparation prior to extraction. This can include cell sorting or enrichment, drying, filtering, or other treatments."
              },
              "sample_preparation_method": {
                "type": "string",
                "title": "Sample Growth Conditions Label",
                "description": "Please assign a Sample Growth Conditions Label for this set of sample preparation details. If more than one sample growth conditions was used, please create a new Sample Growth Conditions Label for each condition by clicking on the plus."
              }
            },
            "required": ["sample_preparation_method"]
          }
        },
        "extraction_methods": {
          "type": "array",
          "title": "Extraction Methods",
          "description": "Please provide basic details about the extraction solvents and procedures used.",
          "items": {
            "type": "object",
            "properties": {
              "solvents": {
                "type": "array",
                "title": "Extraction solvent",
                "description": "Please select the organic solvent used to extract the sample. If your sovent is not listed, please select Other and specify the solvent. If you used multiple solvents, please select them all and indicate the ratio.",
                "items": {
                  "type": "object",
                  "required": ["solvent", "ratio"],
                  "properties": {
                    "solvent": {
                      "title": "Solvent",
                      "type": "string",
                      "anyOf": [
                        {
                          "type": "string",
                          "title": "Methanol",
                          "enum": [
                            "https://www.ebi.ac.uk/chebi/searchId.do?chebiId=CHEBI:17790"
                          ]
                        },
                        {
                          "type": "string",
                          "title": "Methylene Chloride / Dichloromethane",
                          "enum": [
                            "https://www.ebi.ac.uk/chebi/searchId.do?chebiId=CHEBI:15767"
                          ]
                        },
                        {
                          "type": "string",
                          "title": "Ethyl acetate",
                          "enum": [
                            "https://www.ebi.ac.uk/chebi/searchId.do?chebiId=CHEBI:27750"
                          ]
                        },
                        {
                          "type": "string",
                          "title": "Chloroform",
                          "enum": [
                            "https://www.ebi.ac.uk/chebi/searchId.do?chebiId=CHEBI:35255"
                          ]
                        },
                        {
                          "type": "string",
                          "title": "Acetone",
                          "enum": [
                            "https://www.ebi.ac.uk/chebi/searchId.do?chebiId=CHEBI:15347"
                          ]
                        },
                        {
                          "type": "string",
                          "title": "Isopropanol",
                          "enum": [
                            "https://www.ebi.ac.uk/chebi/searchId.do?chebiId=CHEBI:17824"
                          ]
                        },
                        {
                          "type": "string",
                          "title": "Butanol",
                          "enum": [
                            "https://www.ebi.ac.uk/chebi/searchId.do?chebiId=CHEBI:28885"
                          ]
                        },
                        {
                          "type": "string",
                          "title": "Acetonitrile",
                          "enum": [
                            "https://www.ebi.ac.uk/chebi/searchId.do?chebiId=CHEBI:38472"
                          ]
                        },
                        {
                          "type": "string",
                          "title": "Ethanol",
                          "enum": [
                            "https://www.ebi.ac.uk/chebi/searchId.do?chebiId=CHEBI:16236"
                          ]
                        },
                        {
                          "type": "string",
                          "title": "Diethyl ether",
                          "enum": [
                            "https://www.ebi.ac.uk/chebi/searchId.do?chebiId=CHEBI:35702"
                          ]
                        },
                        {
                          "type": "string",
                          "title": "Hexane",
                          "enum": [
                            "https://www.ebi.ac.uk/chebi/searchId.do?chebiId=CHEBI:29021"
                          ]
                        },
                        {
                          "type": "string",
                          "title": "Water",
                          "enum": [
                            "https://www.ebi.ac.uk/chebi/searchId.do?chebiId=CHEBI:15377"
                          ]
                        },
                        {
                          "type": "string",
                          "title": "Other solvent",
                          "enum": [
                            "https://www.ebi.ac.uk/chebi/searchId.do?chebiId=CHEBI:46787"
                          ]
                        }
                      ]
                    },
                    "ratio": {
                      "type": "number",
                      "title": "Ratio",
                      "description": "When a mixture of solvents was used, specify in which ratio each solvent was used. The ratios should sum up to 1.",
                      "default": 1,
                      "exclusiveMinimum": 0,
                      "maximum": 1
                    }
                  },
                  "dependencies": {
                    "solvent": {
                      "oneOf": [
                        {
                          "properties": {
                            "solvent": {
                              "enum": [
                                "https://www.ebi.ac.uk/chebi/searchId.do?chebiId=CHEBI:17790",
                                "https://www.ebi.ac.uk/chebi/searchId.do?chebiId=CHEBI:15767",
                                "https://www.ebi.ac.uk/chebi/searchId.do?chebiId=CHEBI:27750",
                                "https://www.ebi.ac.uk/chebi/searchId.do?chebiId=CHEBI:35255",
                                "https://www.ebi.ac.uk/chebi/searchId.do?chebiId=CHEBI:15347",
                                "https://www.ebi.ac.uk/chebi/searchId.do?chebiId=CHEBI:17824",
                                "https://www.ebi.ac.uk/chebi/searchId.do?chebiId=CHEBI:28885",
                                "https://www.ebi.ac.uk/chebi/searchId.do?chebiId=CHEBI:38472",
                                "https://www.ebi.ac.uk/chebi/searchId.do?chebiId=CHEBI:16236",
                                "https://www.ebi.ac.uk/chebi/searchId.do?chebiId=CHEBI:35702",
                                "https://www.ebi.ac.uk/chebi/searchId.do?chebiId=CHEBI:29021",
                                "https://www.ebi.ac.uk/chebi/searchId.do?chebiId=CHEBI:15377"
                              ]
                            }
                          }
                        },
                        {
                          "properties": {
                            "solvent": {
                              "enum": [
                                "https://www.ebi.ac.uk/chebi/searchId.do?chebiId=CHEBI:46787"
                              ]
                            },
                            "Other_solvent": {
                              "type": "string",
                              "title": "Name of other solvent"
                            }
                          },
                          "required": ["Other_solvent"]
                        }
                      ]
                    }
                  }
                }
              },
			  "resins": {
				"type": "string",
				"title": "Resins",
				"description": "Did you use resins in your extraction? If so, add the name of the resin here (e.g. XAD-2 or XAD-4). Otherwise, leave this section blank."
			},
              "other_extraction_parameters": {
                "type": "string",
                "title": "Other extraction details",
                "description": "Please describe any other relevant extraction methods, e.g. partitioned against water or fractionated with 20% acetonitrile."
              },
              "extraction_method": {
                "type": "string",
                "title": "Extraction Method Label",
                "description": "Please assign an Extraction Method Label for this set of extraction details. If more than one extraction method was used, please create a new Extraction Method Label for each method by clicking on the plus."
              }
            },
            "required": ["extraction_method"]
          }
        },
        "instrumentation_methods": {
          "type": "array",
          "title": "Instrumentation Methods",
          "description": "Please provide basic information on the type of LCMS instrumentation and protocols used in this experiment. More detailed information can go in the 'Other' box.",
          "items": {
            "type": "object",
            "properties": {
              "instrumentation": {
                "type": "object",
                "title": "Instrumentation",
                "properties": {
                  "instrument": {
                    "type": "string",
                    "title": "Instrument type",
                    "description": "Please select the type of LCMS instrument used. If your instrument type is not listed here, please select Other and specify.",
                    "anyOf": [
                      {
                        "type": "string",
                        "title": "Quadrupole",
                        "enum": [
                          "https://bioportal.bioontology.org/ontologies/MS/?p=classes&conceptid=http%3A%2F%2Fpurl.obolibrary.org%2Fobo%2FMS_1000081"
                        ]
                      },
                      {
                        "type": "string",
                        "title": "Time-of-flight (TOF)",
                        "enum": [
                          "https://bioportal.bioontology.org/ontologies/MS/?p=classes&conceptid=http%3A%2F%2Fpurl.obolibrary.org%2Fobo%2FMS_1000084"
                        ]
                      },
                      {
                        "type": "string",
                        "title": "Ion trap (IT)",
                        "enum": [
                          "https://bioportal.bioontology.org/ontologies/MS/?p=classes&conceptid=http%3A%2F%2Fpurl.obolibrary.org%2Fobo%2FMS_1000264"
                        ]
                      },
                      {
                        "type": "string",
                        "title": "Quadrupol-IT",
                        "enum": [
                          "https://bioportal.bioontology.org/ontologies/MS/?p=classes&conceptid=http%3A%2F%2Fpurl.obolibrary.org%2Fobo%2FMS_1000082"
                        ]
                      },
                      {
                        "type": "string",
                        "title": "Orbitrap (Q-Exactive, LTQ-Orbitrap, etc.)",
                        "enum": [
                          "https://bioportal.bioontology.org/ontologies/MS/?p=classes&conceptid=http%3A%2F%2Fpurl.obolibrary.org%2Fobo%2FMS_1000484"
                        ]
                      },
                      {
                        "type": "string",
                        "title": "Fourier Transform Ion Cyclotron Resonance (FTICR)",
                        "enum": [
                          "https://bioportal.bioontology.org/ontologies/MS/?p=classes&conceptid=http%3A%2F%2Fpurl.obolibrary.org%2Fobo%2FMS_1000079"
                        ]
                      },
                      {
                        "type": "string",
                        "title": "Magnetic Sector",
                        "enum": [
                          "https://bioportal.bioontology.org/ontologies/MS/?p=classes&conceptid=http%3A%2F%2Fpurl.obolibrary.org%2Fobo%2FMS_1000080"
                        ]
                      },
                      {
                        "type": "string",
                        "title": "Electrostatic Energy Analyzer",
                        "enum": [
                          "https://bioportal.bioontology.org/ontologies/MS/?p=classes&conceptid=http%3A%2F%2Fpurl.obolibrary.org%2Fobo%2FMS_1000254"
                        ]
                      },
                      {
                        "type": "string",
                        "title": "Stored Waveform Inverse Fourier Transform",
                        "enum": [
                          "https://bioportal.bioontology.org/ontologies/MS/?p=classes&conceptid=http%3A%2F%2Fpurl.obolibrary.org%2Fobo%2FMS_1000284"
                        ]
                      },
                      {
                        "type": "string",
                        "title": "Cyclotron",
                        "enum": [
                          "https://bioportal.bioontology.org/ontologies/MS/?p=classes&conceptid=http%3A%2F%2Fpurl.obolibrary.org%2Fobo%2FMS_1000288"
                        ]
                      },
                      {
                        "type": "string",
                        "title": "Other Mass Spectrometer",
                        "enum": [
                          "https://bioportal.bioontology.org/ontologies/MS/?p=classes&conceptid=http%3A%2F%2Fpurl.obolibrary.org%2Fobo%2FMS_1000443"
                        ]
                      }
                    ]
                  }
                },
                "dependencies": {
                  "instrument": {
                    "oneOf": [
                      {
                        "properties": {
                          "instrument": {
                            "enum": [
                              "https://bioportal.bioontology.org/ontologies/MS/?p=classes&conceptid=http%3A%2F%2Fpurl.obolibrary.org%2Fobo%2FMS_1000081",
                              "https://bioportal.bioontology.org/ontologies/MS/?p=classes&conceptid=http%3A%2F%2Fpurl.obolibrary.org%2Fobo%2FMS_1000084",
                              "https://bioportal.bioontology.org/ontologies/MS/?p=classes&conceptid=http%3A%2F%2Fpurl.obolibrary.org%2Fobo%2FMS_1000264",
                              "https://bioportal.bioontology.org/ontologies/MS/?p=classes&conceptid=http%3A%2F%2Fpurl.obolibrary.org%2Fobo%2FMS_1000082",
                              "https://bioportal.bioontology.org/ontologies/MS/?p=classes&conceptid=http%3A%2F%2Fpurl.obolibrary.org%2Fobo%2FMS_1000484",
                              "https://bioportal.bioontology.org/ontologies/MS/?p=classes&conceptid=http%3A%2F%2Fpurl.obolibrary.org%2Fobo%2FMS_1000079",
                              "https://bioportal.bioontology.org/ontologies/MS/?p=classes&conceptid=http%3A%2F%2Fpurl.obolibrary.org%2Fobo%2FMS_1000080",
                              "https://bioportal.bioontology.org/ontologies/MS/?p=classes&conceptid=http%3A%2F%2Fpurl.obolibrary.org%2Fobo%2FMS_1000254",
                              "https://bioportal.bioontology.org/ontologies/MS/?p=classes&conceptid=http%3A%2F%2Fpurl.obolibrary.org%2Fobo%2FMS_1000284",
                              "https://bioportal.bioontology.org/ontologies/MS/?p=classes&conceptid=http%3A%2F%2Fpurl.obolibrary.org%2Fobo%2FMS_1000288"
                            ]
                          }
                        }
                      },
                      {
                        "properties": {
                          "instrument": {
                            "enum": [
                              "https://bioportal.bioontology.org/ontologies/MS/?p=classes&conceptid=http%3A%2F%2Fpurl.obolibrary.org%2Fobo%2FMS_1000443"
                            ]
                          },
                          "other_instrument": {
                            "type": "string",
                            "title": "Name of other instrument type"
                          }
                        }
                      }
                    ]
                  }
                }
              },
              "column": {
                "type": "string",
                "title": "Column Phase",
                "description": "Please select column phase. You can add additional column details in the Other Instrumentation Information section below.",
                "enum": ["Reverse Phase", "Normal Phase", "HILIC"],
                "default": "Reverse Phase"
              },
              "mode": {
                "type": "string",
                "title": "Ionization Mode",
                "description": "Please select ionization mode.",
                "anyOf": [
                  {
                    "type": "string",
                    "title": "Positive",
                    "enum": [
                      "http://purl.obolibrary.org/obo/MS_1000130"
                    ]
                  },
                  {
                    "type": "string",
                    "title": "Negative",
                    "enum": [
                      "http://purl.obolibrary.org/obo/MS_1000129"
                    ]
                  },
				  {
                    "type": "string",
                    "title": "Both",
                    "enum": [
                      "http://purl.obolibrary.org/obo/CHMO_0002262"
                    ]
                  }
                ],
                "default": [
                  "http://purl.obolibrary.org/obo/MS_1000129"
                ]
              },
			    "Ionization": {
					"type": "object",
					"properties": {
				 "ionization_type": {
                    "type": "string",
                    "title": "Ionization type",
                    "description": "Please select the type of ionization used. If your ionization type is not listed here, please select Other and specify.",
                    "anyOf": [
                      {
                        "type": "string",
                        "title": "Electrospray Ionization (ESI)",
                        "enum": [
                          "http://purl.obolibrary.org/obo/MS_1000073"
                        ]
                      },
                      {
                        "type": "string",
                        "title": "Matrix-assisted laser desorption ionization (MALDI)",
                        "enum": [
                          "http://purl.obolibrary.org/obo/MS_1000075"
                        ]
                      },
                      {
                        "type": "string",
                        "title": "Atmospheric pressure chemical ionization (APCI)",
                        "enum": [
                          "http://purl.obolibrary.org/obo/MS_1000070"
                        ]
                      },
                      {
                        "type": "string",
                        "title": "Other ionization type",
                        "enum": [
                          "http://purl.obolibrary.org/obo/MS_1000008"
                        ]
                      }
                    ]
                  }
                },
                "dependencies": {
                  "ionization_type": {
                    "oneOf": [
                      {
                        "properties": {
                          "ionization_type": {
                            "enum": [
                              "http://purl.obolibrary.org/obo/MS_1000073",
                              "http://purl.obolibrary.org/obo/MS_1000075",
                              "http://purl.obolibrary.org/obo/MS_1000070"
                            ]
                          }
                        }
                      },
                      {
                        "properties": {
                          "ionization_type": {
                            "enum": [
                              "http://purl.obolibrary.org/obo/MS_1000008"
                            ]
                          },
                          "other_ionization_type": {
                            "type": "string",
                            "title": "Name of other ionization type"
                          }
                        }
                      }
                    ]
                  }
                }
              },
              "range": {
                "type": "string",
                "title": "Mass range",
                "description": "Please enter the mass range collected in Da. For example `100-800` for a range from 100 Da to 800 Da"
              },
              "collision_energy": {
                "type": "string",
                "title": "Collision energy",
                "description": "Please enter the collision energy."
              },
              "buffering": {
                "type": "string",
                "title": "Mobile phase conditions",
                "description": "Did you add anything to your mobile phase, e.g. 0.1% formic acid."
              },
              "other_instrumentation": {
                "type": "string",
                "title": "Other instrumentation information",
                "description": "Please enter any other relevant instrument or method details, such as gradient used, more column details, or any other relevant information."
              },
              "instrumentation_method": {
                "type": "string",
                "title": "Instrumentation Method Label",
                "description": "Please assign an Instrumentation Method Label for this set of instrumentation details. If more than one LCMS instrumentation method was used, please create a new Instrumentation Method Label for each condition by clicking on the plus."
              }
            },
            "required": ["instrumentation_method"]
          }
        }
      },
      "additionalProperties": false
    },
    "genome_metabolome_links": {
      "type": "array",
      "title": "5. Links between genomes and metabolomics data",
      "description": "Create a linked pair by selecting the Genome Label as provided earlier and subsequently sample names of and links to the metabolomics data file belonging to that genome with appropriate experimental methods.",
      "items": {
        "type": "object",
        "required": [
          "genome_label",
          "metabolomics_file",
          "sample_preparation_label",
          "extraction_method_label",
          "instrumentation_method_label"
        ],
        "properties": {
          "genome_label": {
            "type": "string",
            "title": "Genome/Metagenome",
            "description": "Please select the Genome Label to be linked to a metabolomics data file."
          },
          "metabolomics_file": {
            "type": "string",
            "title": "Location of metabolomics data file",
            "description": "Please provide a direct link to the metabolomics data file location, e.g. ftp://massive.ucsd.edu/MSV000078839/spectrum/R5/CNB091_R5_M.mzXML found in the FTP download of a MassIVE dataset or https://www.ebi.ac.uk/metabolights/MTBLS307/files/Urine_44_fullscan1_pos.mzXML found in the Files section of a MetaboLights study. Warning, there cannot be spaces in the URI.",
            "format": "uri"
          },
          "sample_preparation_label": {
            "type": "string",
            "title": "Sample Growth Conditions",
            "description": "Please select the Sample Growth Conditions Label for this linked dataset."
          },
          "extraction_method_label": {
            "type": "string",
            "title": "Extraction Method",
            "description": "Please select the Extraction Method Label for this linked dataset"
          },
          "instrumentation_method_label": {
            "type": "string",
            "title": "Instrumentation Method",
            "description": "Please select the Instrumentation Method Label for this linked dataset"
          }
        },
        "additionalProperties": false
      }
    },
    "BGC_MS2_links": {
      "type": "array",
      "title": "6. Linked gene clusters and MS2 spectra",
      "description": "If you already know of a gene cluster or gene cluster family that can be linked to a molecule or molecular family, please provide details in this section",
      "items": {
        "type": "object",
        "required": ["BGC_ID", "verification"],
        "properties": {
          "known_link": {
            "type": "string",
            "title": "Known linked gene cluster and molecule",
            "description": "Please provide a brief description of the known linked molecule(s) and gene cluster(s), including the name of the molecule(s)."
          },
          "verification": {
            "type": "array",
            "title": "Link verification",
            "description": "Please indicate if verification of the link between BGC and MS2 is experimentally validated or bioinformatically inferred.",
            "items": {
              "type": "string",
              "enum": [
                "Experimentally validated with knockouts, heterologous expression, or other gene cluster manipulation",
                "Bioinformatically inferred through comparative analysis with another experimentally defined gene cluster",
                "Experimentally validated with NMR and/or detailed MS/MS analysis",
                "Evidence as indicated in MIBiG"
              ]
            },
            "uniqueItems": true
          },
          "SMILES": {
            "type": "string",
            "title": "Simplified molecular-input line-entry system (SMILES)",
            "description": "Please provide the SMILES notation for the known molecule."
          },
          "IUPAC": {
            "type": "string",
            "title": "International union of pure and applied chemistry (IUPAC) name",
            "description": "Please provide the IUPAC name for the known molecule,"
          },
          "BGC_ID": {
            "type": "object",
            "title": "MIBiG BGC ID",
            "properties": {
              "BGC": {
                "type": "string",
                "enum": [
                  "MIBiG number associated with this exact BGC",
                  "MIBiG number of a similar BGC from a closely related strain"
                ],
                "default": "MIBiG number associated with this exact BGC"
              }
            },
            "dependencies": {
              "BGC": {
                "oneOf": [
                  {
                    "properties": {
                      "BGC": {
                        "enum": ["MIBiG number associated with this exact BGC"]
                      },
                      "MIBiG_number": {
                        "type": "number",
                        "title": "MIBiG number for exact BGC"
                      }
                    }
                  },
                  {
                    "properties": {
                      "BGC": {
                        "enum": [
                          "MIBiG number of a similar BGC from a closely related strain"
                        ]
                      },
                      "similar_MIBiG_number": {
                        "type": "number",
                        "title": "MIBiG number for similar BGC"
                      },
                      "strain": {
                        "type": "string",
                        "title": "Strain accession number",
                        "description": "Please provide the strain accession number of the genome containing the similar BGC."
                      },
                      "coordinates": {
                        "type": "string",
                        "title": "BGC Coordinates",
                        "description": "Please provide the beginning and end coordinates of the similar BGC from the genome specified above."
                      }
                    }
                  }
                ]
              }
            }
          },
          "link": {
            "type": "string",
            "title": "What would you like to link?",
            "enum": ["GNPS molecular family", "single molecule"],
            "default": "single molecule"
          }
        },
        "dependencies": {
          "link": {
            "oneOf": [
              {
                "properties": {
                  "link": {
                    "enum": ["GNPS molecular family"]
                  },
                  "network_nodes_URL": {
                    "type": "string",
                    "title": "GNPS network nodes URL",
                    "description": "Please provide the URL from GNPS for the network nodes page: first click 'View Spectral Families (In Browser Network Visualizer)' and then click 'Network Nodes' and copy this URL, e.g. https://gnps.ucsd.edu/ProteoSAFe/result.jsp?view=cluster_info_sliced&componentindex=290&show=true&task=c36f90ba29fe44c18e96db802de0c6b9#%7B%7D"
                  }
                }
              },
              {
                "properties": {
                  "link": {
                    "enum": ["single molecule"]
                  },
                  "MS2_URL": {
                    "type": "string",
                    "title": "MS2 URL",
                    "description": "Please provide the URL for the mass spectrum with the molecule to link."
                  },
                  "MS2_scan": {
                    "type": "string",
                    "title": "MS2 scan number",
                    "description": "Please provide the MS2 scan number for the molecule to link."
                  }
                }
              }
            ]
          }
        }
      }
    }
  },
  "additionalProperties": false
}

